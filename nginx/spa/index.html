<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Questionary</title>
    <link rel="stylesheet" href="https://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.min.css">
    <link rel="stylesheet" type="text/css" href="./static-files/styles.css">
    <script src="app.js" type="module"></script>


</head>

<body>

    <header>
        Questionary
    </header>

    <nav>
        <ul>
            <li><a href="/">Questionary</a></li>
            <li><a href="/api/accounts/all">View Accounts</a></li>
            <li class="showIfLoggedOut"><a href="/api/accounts/sign-in">Sign in</a></li>
            <li class="showIfLoggedOut"><a href="/api/accounts/sign-up">Sign up</a></li>
            <li class="showIfLoggedIn"><a href="/api/questions/new-post">new Question</a></li>
            <!--<li class="showIfLoggedIn"><a href="/api/questions/by-user/1">QuestionsUser</a></li>-->
            <li class="showIfLoggedIn"><a href="/api/questions/unanswered/">Answers</a></li>
            <!-- <li class="showIfLoggedOut"><a href="/api/accounts/sign-up">Sign up</a></li> -->
            <li class="showIfLoggedIn"><a href="/api/questions/new-post">New Question</a></li>
            <li class="showIfLoggedIn"><a href="/api/accounts/sign-out">Logout</a></li>
        </ul>
    </nav>

    <main>

        <div id="loader" class="lds-ring center hide">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>

        <div id="home-page">
            <h1>Home</h1>
            <p>This is the home page...</p>
        </div>

        <div id="accounts-page">
            <h1>Accounts</h1>
            <ul>
                <li>no accounts</li>
            </ul>

            <div id="noAccounts" class="hidden">
                <p>There are no accounts!</p>
            </div>
        </div>

        <div id="user-page">
            <h1>Account</h1>
            <div>Name: <span class="username"></span></div>
            <div>Id: <span class="id"></span></div>
        </div>

        <div id="sign-up-page">
            <div class="content">
                <h2>Sign Up</h2>
                <p>Create a new account using the form below.</p>
            </div>

            <form method="POST" action="/accounts/sign-up">
                <br>
                <input type="text" name="username" id="username" placeholder="Username">
                <br>
                <input type="email" name="email" id="email" placeholder="E-Mail">
                <br>
                <input type="password" name="password" id="password1" placeholder="Password" />
                <br>
                <input type="password" name="passwordRepeated" id="password2" placeholder="Repeat password" />
                <br>
                <input type="submit" class="btn" value="Register">
            </form>
        </div>

        <div id="sign-in-page">
            <div class="content">
                <h1>Login</h1>
            </div>
            <form action="">
                <div>
                    <input type="text" name="email" class="email" placeholder="Email">
                </div>
                <div>
                    <input type="password" name="password" class="password" placeholder="Password">
                </div>
                <input type="submit" value="Login" class="button">
            </form>
            <br><br>
            <h4>Not a user?</h4>
            <br>
            <a id="sign-up" class="button" href="/api/accounts/sign-up">Sign up</a>

        </div>

        <div id="new-question-page">
            <div class="content">
                <h1>New Question</h1>
            </div>
            <form name="question" method="POST" action="" id="createQuestionForm">
                <br>
                <input type="text" name="title" id="questionTitle" placeholder="Question" />
                <br>
                <textarea rows="4" cols="50" name="description" id="questionDescription"
                    placeholder="Description (Optional)"></textarea>
                <br>
                <input type="text" name="customCategory" id="customCategory" placeholder="Custom category" />
                <!--<input type="hidden" name="_csrf" value="EUyclN3W-PIPfXknqgGVpd7JWd_iFPq7C3Ic" />-->
                <br>
                <input type="submit" class="button" value="Submit question" />
                <br>
            </form>

        </div>

        <div id="answer-page">
            <div class="content">
                <h1>Answers:</h1>
            </div>

            <div class="question blog-post">

                <h3>Question Title</h3>
                <p>Question Description</p>
                <div>
                    <ul>
                        <li><a href="/accounts/{{question.author}}">Asked by: question.author</a></li>
                    </ul>
                </div>

                <div id="noQuestions" class="hidden">
                    <p>There are no questions to answer!</p>
                </div>

            </div>



            <!--<form name="question" method="GET" action="/questions/by-id/{{../id}}/edit">
                <br>
                <input type="text" name="title" id="questionTitle" placeholder="Question" />
                <br>
                <textarea rows="4" cols="50" name="description" id="questionDescription"
                    placeholder="Description (Optional)"></textarea>
                <br>
                <input type="text" name="customCategory" id="customCategory" placeholder="Custom category" />-->
            <!--<input type="hidden" name="_csrf" value="EUyclN3W-PIPfXknqgGVpd7JWd_iFPq7C3Ic" />-->
            <!--<br>
                <input type="submit" class="button" value="Submit question" />
                <br>
            </form>-->

        </div>

        <div id="question-user-page">
            <div class="content">
                <h1>Questions for one user:</h1>
            </div>

            <div id="questionsUser">

            </div>

            <div id="noQuestionsForUser" class="hidden">
                <p>You have no questions!</p>
                <!-- <a href="/questions/by-user/:author">here what is happend</a>-->
            </div>

        </div>

        <div id="error-page">
            <h1>Error</h1>
            <p>Oups, something went wrong ^^'</p>
        </div>

    </main>

    <!--<footer>
        Petto |
        Copyright 2020 Peter L-G |
        <a href="/api/about">About</a>
    </footer>-->

</body>

</html>


<!--
<script>
    document.addEventListener("DOMContentLoaded", function () {

        const form = document.querySelector("form")

        form.addEventListener("submit", validateRegisterForm)

        function validateRegisterForm(event) {

			/*
			const constraints =  JSON.parse('{{{validationConstraints}}}')
			console.log(constraints)
			*/

            const MIN_USERNAME_LENGTH = 4
            const MAX_USERNAME_LENGTH = 20
            const MIN_PASSWORD_LENGTH = 8
            const MAX_PASSWORD_LENGTH = 20

            const username = document.getElementById("username").value
            const email = document.getElementById("email").value
            const password1 = document.getElementById("password1").value
            const password2 = document.getElementById("password2").value

            const errorMessages = []

            const errorList = document.getElementById("errorMessages")
            while (errorList.firstChild) {
                errorList.removeChild(errorList.firstChild)
            }

            if (MIN_USERNAME_LENGTH > username.length) {
                errorMessages.push("Username needs to be atleast " + MIN_USERNAME_LENGTH + " characters long.")
            } else if (username.length > MAX_USERNAME_LENGTH) {
                errorMessages.push("Username can not be longer than " + MAX_USERNAME_LENGTH + " characters.")
            }
            if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email))) {
                errorMessages.push("Invalid email address.")
            }
            if (MIN_PASSWORD_LENGTH > password1.length) {
                errorMessages.push("Password needs to be atleast " + MIN_PASSWORD_LENGTH + " characters long.")
            } else if (password1.length > MAX_PASSWORD_LENGTH) {
                errorMessages.push("Password can not be longer than " + MAX_PASSWORD_LENGTH + " characters.")
            }
            if (password1 != password2) {
                errorMessages.push("Passwords dont match.")
            }

            if (!errorMessages.length > 0) {
                return true
            } else {

                for (error of errorMessages) {
                    var newError = document.createElement("LI")
                    newError.innerText = error
                    errorList.appendChild(newError)
                }
                event.preventDefault()
            }

        }

    })
</script>-->